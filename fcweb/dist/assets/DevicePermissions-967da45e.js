import{f as a,p as c,_ as f,o as p,c as _,a as l,w as u,b as m}from"./index-8c423d51.js";import{B as g}from"./index-4e65af33.js";const s={};s.permissionList=["camera","storage"];s.await=(e,r)=>{e==="camera"?a.register("aprcamera",r):e==="storage"&&a.register("aprstorage",r)};s.uninstall=e=>{e==="camera"?a.unregister("aprcamera"):e==="storage"&&a.unregister("aprstorage")};s.request=e=>{if(typeof e!="string")throw new Error("permissions.request函数中你传给flutter端的信息不是一个字符串,将无法识别!");{let r=!1;for(let o of s.permissionList)if(o===e){r=!0;break}if(!r)throw new Error("requestPermission函数中你请求的权限不存在!")}if(!window[`${c}requestPermission`]){console.error("你所在的位置于flutter端没有注册requestPermission函数,请先行注册方可使用,或者联系zbc!"),console.warn("如果你在非flutter端调试,那么requestPermission函数将不会产生任何作用,且不会影响你继续调试其他功能。");return}window[`${c}requestPermission`].postMessage(e)};const t={...s};const d={mounted(){t.await("camera",e=>{alert(e)}),t.await("storage",e=>{alert(e)})},unmounted(){t.uninstall("camera"),t.uninstall("storage")},methods:{getCamera(){t.request("camera")},getStorage(){t.request("storage")}}};function w(e,r,o,b,k,i){const n=g;return p(),_("main",null,[l(n,{class:"btn-item",type:"primary",block:"",onClick:i.getCamera},{default:u(()=>[m("请求照相机/摄像头权限")]),_:1},8,["onClick"]),l(n,{class:"btn-item",type:"primary",block:"",onClick:i.getStorage},{default:u(()=>[m("请求读写数据权限")]),_:1},8,["onClick"])])}const y=f(d,[["render",w],["__scopeId","data-v-8d30abc2"]]);export{y as default};
